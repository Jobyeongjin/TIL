# [Algorithm] κΉμ΄μ°μ„ νƒμƒ‰ (DFS)

## **κ·Έλν”„ νƒμƒ‰ μ•κ³ λ¦¬μ¦**

- `κΉμ΄μ°μ„ νƒμƒ‰` κ³Ό `λ„λΉ„μ°μ„ νƒμƒ‰` μ΄ μλ‹¤
- `μ¤νƒ + κ·Έλν”„ + ν`
- **κΉμ΄μ°μ„ νƒμƒ‰(DFS) κ·Έλν”„μ κΉμ΄λ¥Ό μ°μ„ **μΌλ΅ νƒμƒ‰ν•κΈ° μ„ν•΄ **μ¤νƒμ κ°λ…μ„ ν™μ©**ν•λ‹¤.
- **λ„λΉ„μ°μ„ νƒμƒ‰(BFS) κ·Έλν”„μ λ„λΉ„λ¥Ό μ°μ„ **μΌλ΅ νƒμƒ‰ν•κΈ° μ„ν•΄ **νμ κ°λ…μ„ ν™μ©**ν•λ‹¤.

![](./img/dfs.png)

---

<br />

## **κΉμ΄μ°μ„ νƒμƒ‰ (DFS)**

> Depth-First Search, DFS

- **μ‹μ‘ μ •μ μΌλ΅λ¶€ν„° κ° μ μλ” ν•μ„ μ •μ κΉμ§€ κ°€μ¥ κΉκ² νƒμƒ‰**ν•κ³ , λ” μ΄μƒ κ° κ³³μ΄ μ—†λ‹¤λ©΄ λ§μ§€λ§‰ κ°λ¦ΌκΈΈλ΅ λμ•„μ™€μ„ λ‹¤λ¥Έ μ •μ μ„ νƒμƒ‰ν•λ©° κ²°κµ­ λ¨λ“  μ •μ μ„ λ°©λ¬Έν•λ” μν λ°©λ²•
- **λ―Έλ΅ νƒμ¶**λ΅ μƒκ°ν•λ©΄ μ΄ν•΄ν•κΈ° μ‰½λ‹¤.
  - μ–΄λ ν• μ½ κΈΈλ΅ κ°€μ¥ κΉκ² λ“¤μ–΄κ°”λ‹¤κ°€ λ§‰νλ©΄ λ‹¤μ‹ λμ•„μ™€μ„ λ‹¤λ¥Έ κΈΈμ„ νƒμƒ‰ν•λ‹¤.

<br />

### **κΉμ΄μ°μ„ νƒμƒ‰μ νΉμ§•** π’΅

- **λ¨λ“  μ •μ μ„ λ°©λ¬Έν•  λ• μ λ¦¬**ν•λ‹¤. λ”°λΌμ„ **κ²½μ°μ μ, μμ—΄κ³Ό μ΅°ν•©** λ¬Έμ μ—μ„ λ§μ΄ μ‚¬μ©ν•λ‹¤.
- λ„λΉ„μ°μ„ νƒ¬μƒ‰(BFS)μ— λΉ„ν•΄ μ½”λ“ κµ¬ν„μ΄ κ°„λ‹¨ν•λ‹¤.
- λ‹¨, λ¨λ“  μ •μ μ„ λ°©λ¬Έν•  ν•„μ”κ°€ μ—†κ±°λ‚ μµλ‹¨κ±°λ¦¬λ¥Ό κµ¬ν•λ” κ²½μ°μ—λ” λ„λΉ„μ°μ„ νƒμƒ‰(BFS)μ΄ μ λ¦¬ν•λ‹¤.

<br />

### **DFSμ λ™μ‘ κ³Όμ •** π’΅

1. DFSλ¥Ό ν•κΈ° μ „μ—, μΌλ‹¨ **νƒμƒ‰μ„ μ§„ν–‰ν•  κ·Έλν”„κ°€ ν•„μ”**ν•λ‹¤.

   - κ·Έλν”„λ” `μΈμ ‘ ν–‰λ ¬` νΉμ€ `μΈμ ‘ λ¦¬μ¤νΈ` λ°©μ‹μΌλ΅ ν‘ν„ν•  μ μλ‹¤.
   - μΈμ ‘ λ¦¬μ¤νΈκ°€ ν™μ©ν•κΈ° λ” μ ν•©ν•λ‹¤.

2. **κ° μ •μ μ„ λ°©λ¬Έν–λ”μ§€ μ—¬λ¶€λ¥Ό νλ³„**ν•  λ°©λ¬Έ μ²΄ν¬ λ¦¬μ¤νΈκ°€ ν•„μ”ν•λ‹¤.
   - μ‚¬λκ³Ό λ‹¬λ¦¬ μ»΄ν“¨ν„°λ” κ° μ •μ μ— λ°©λ¬Έν–λ”μ§€ μ—¬λ¶€λ¥Ό μ• μ μ—†λ‹¤. λ”°λΌμ„ `visited λ¦¬μ¤νΈλ¥Ό λ”°λ΅ μ„ μ–Έ` ν•μ—¬ κ° μ •μ μ„ λ°©λ¬Έν–λ”μ§€ μ²΄ν¬ν•λ‹¤.

<br />

| μ •μ            | 0    | 1     | 2     | 3     | 4     | 5     | 6     |
| -------------- | ---- | ----- | ----- | ----- | ----- | ----- | ----- |
| **Visited[i]** | True | False | False | False | False | False | False |

- **μΈλ±μ¤λ” κ° μ •μ μ λ²νΈ**
- **λ°©λ¬Έν• μ •μ μ€ True, λ°©λ¬Έν•μ§€ μ•μ€ μ •μ μ€ False**

<br />

```python
# visited = [False] * n (μ •μ μ κ°μ)

visited = [False, False, False, False, False, False, False]

# False -> 0
# True -> 1
```

<br />

#### **DFSμ μ‚¬μ΄ν΄**

1. ν„μ¬ μ •μ  λ°©λ¬Έμ²λ¦¬
2. μΈμ ‘ν• λ¨λ“  μ •μ  ν™•μΈ
3. λ°©λ¬Έν•μ§€ μ•μ€ μΈμ ‘ μ •μ  μ΄λ™

<br />

#### **λ°λ³µλ¬Έμ„ μ΄μ©ν• DFS**

- DFSλ” μ§μ „μ— λ°©λ¬Έν• μ •μ μΌλ΅ μ°¨λ΅€λ΅ λμ•„κ°€μ•Ό ν•λ―€λ΅, **ν›„μ…μ„ μ¶(LIFO) κµ¬μ΅°μ μ¤νƒμ„ μ‚¬μ©**ν•λ‹¤.

<br />

```python
visited = [False] * n # λ°©λ¬Έ μ²λ¦¬ λ¦¬μ¤νΈ

visited[start] = True # μ‹μ‘ μ •μ  λ°©λ¬Έ μ²λ¦¬
stack = [start] # λμ•„κ° κ³³μ„ κΈ°λ΅

while stack: # μ¤νƒμ΄ λΉ λ•κΉμ§€ λ°λ³µ / λμ•„κ° κ³³μ΄ μ—†μ„ λ•κΉμ§€
  cur = stack.pop() # ν„μ¬ λ°©λ¬Έ μ •μ  /ν›„μ…μ„ μ¶

  for adj in graph[cur]: # μΈμ ‘ν• λ¨λ“  μ •μ μ— λ€ν•΄
    if not visited[adj]: # μ•„μ§ λ°©λ¬Έν•μ§€ μ•μ•λ‹¤λ©΄
      visited[adj] = True # λ°©λ¬Έ μ²λ¦¬
      stack.append(adj) # μ¤νƒμ— λ„£κΈ°


'''
# curκ°€ 0μ΄λΌλ©΄
cur = 0

for adj in graph[cur]:  >>> 1, 2
    if not visited[adj]:  >>> 1
      visited[adj] = True  >>> 1
      stack.append(adj)  >>> 1
'''
```

<br />

### **DFS λ¬Έμ  ν’€μ΄** π“

```python
# λ°±μ¤€ - λ°”μ΄λ¬μ¤

n = int(input())
m = int(input())

graph = [[] for _ in range(n + 1)]
visited = [False] * (n + 1) # λ¬Έμ  μΈλ±μ¤κ°€ 1λ¶€ν„° μ‹μ‘ν•΄μ„ + 1
total = 0

for _ in range(m):
  v1, v2 = map(int, input().split())
  graph[v1].append(v2)
  graph[v2].append(v1)

# DFS μ½”λ“
def dfs(start):
  stack = [start]
  visited[start] = True

  while stack:
    cur = stack.pop()

    for adj in graph[cur]:
      if not visited[adj]:
        visited[adj] = True
        stack.append(adj)
dfs(1) # 1λ² μ •μ λ¶€ν„° μ‹μ‘
```
