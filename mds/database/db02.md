# DataBase 📝

> 특정 조직의 여러 사용자가 공유하여 사용자가 공유하여 사용할 수 있도록 통합해서 저장한 운영 데이터의 집합

<br />

## **특징 💭**

- **실시간 접근**
- **지속적인 변화**
- **동시 공유**
- **저장된 주소가 아닌 내용으로 참조 가능**

<br />

## **데이터의 유형 💭**

> 데이터가 모여 있는 집합

- `정형 데이터 (structurd data)`
  - 엑셀의 스프레드시트, 관계데이터베이스의 테이블
- `반정형 데이터 (semi-structured data)`
  - Self-describing data : HTML, XML, JSON
- `비정형 데이터 (unstructured data)`
  - 정해진 구조가 없이 저장된 데이터 : text, 멀티미디어 데이터

<br />

## **파일 시스템을 사용했을 때의 문제점 💭**

1. **데이터 중복성 문제 : 공간 낭비**

2. **업데이트 및 데이터 일관성 (data consistency) 유지에 어려움**

3. **데이터 무결성 (data integrity constraints) 유지 어려움**

   - 응용프로그램이 모두 체크해야 함
   - 데이터 도메인 체크

4. **데이터 종속성**

   - 응용프로그램이 파일 데이터 구조에 종속적

   - 파일구조가 바뀔 때마다 응용프로그램 교체 필요

5. **동시성 제공이 어려움**

   - 여러 사용자가 동시에 접근할 때 문제 해결에 어려움

6. **원자성 제공 어려움**

   - 파일 변경 중에 시스템 장애가 발생했을 때 처리 어려움

7. **보안 제공 이슈**

   - 사용자별 파일 안의 일부 데이터 읽기 권한 제어가 어려움

```
💡 데이터베이스 관리시스템(DBMS)이 해답 💡
- 응용프로그램과 데이터 연결을 도와주며 데이터 관리와 데이터에 대한 기본 처리를 담당하는 추가적인 소프트웨어
```

<br />

---

# 데이터베이스 관리 시스템 (DBMS) 📝

> 파일시스템의 데이터 중복과 데이터 종속 문제를 해결하기 위해 제시된 소프트웨어

- **데이터베이스의 생성과 관리를 담당**
- **모든 응용프로그램은 데이터베이스 공유 가능**
- **DBMS를 통해 데이터 삽입, 수정, 검색**

<br />

## **대표 DBMS 💭**

- Oracle
- MS SQL Server
- Sap HANA
- MySQL
- PostgreSQL

<br />

## **DBMS 의 주요 기능 💭**

- `정의 기능` : 데이터베이스 **구조를 정의**하거나 수행
- `조작 기능` : 데이터를 **삽입, 삭제, 수정, 검색**하는 연산을 수행
- `제어 기능` : 데이터를 항상 **정확하고 안전하게 유지**하는 기능

<br />

## **DBMS 장점 💭**

- 파일시스템의 **데이터 중복 문제 해결**
- 데이터 **독립성 확보** (데이터 구조가 바뀌어도 응용프로그램을 바꿀 필요가 없음)
- **데이터 동시 공유** (Concurrency control)
- **데이터 보안 향상** - 사용자별 접근 가능한 데이터베이스 영역 제한 기능
- **데이터 무결성 유지**
- **표준화 방식**으로 데이터에 접근 (with 데이터베이스 언어)
- 장애 발생 후 회복 시 **데이터 일관성과 무결성 유지** - 트랜잭션 기능
- 응용 프로그램 **개발 비용이 줄어 듬**

<br />

## **DBMS 단점 💭**

- **DBMS 구매 비용**
- 응용 프로그램이 DBMS를 통해 데이터에 접근하기 때문에 **추가적인 오버헤드가 있음**
- 응용 프로그래머가 DBMS가 어떻게 동작하는지와 **표준 데이터 언어에 대한 지식 필요**
- **DBMS 장애가 발생할 때 모든 응용 프로그램 장애가 발생함**

<br />

## **Data Dictionary (System Catalog) 💭**

- DBMS는 `database와 함께 metadata (data about data)을 저장`한다.
- `데이터 정의어 (DDL)에 의해 생성`된다.

<br />

## **Metadata 💭**

- 각 데이터에 접근할 수 있는 데이터의 이름 (테이블; 컬럼 이름)
- 스토리지에 `데이터가 저장된 위치`
- `보안을 위한 제약 (security constraint)` : 누가 어떤 데이터를 접근할 수 있나
- `무결성을 위한 제약 (integrity constraint)` : 어떤 값이 데이터에 유효한가

<br />

---

# 데이터베이스 시스템 📝

<br />

## **정의 💭**

- 데이터베이스에 **데이터를 저장하고, 저장된 데이터를 관리하여 조직에 필요한 정보를 생성해주는 시스템**
- 데이터베이스와 이를 관리하는 소프트웨어인 DBMS와 응용 프로그램 모두를 칭하는 용어
- **통상적으로 DBMS와 구분없이 사용**

<br />

## **데이터베이스의 중요 개념 💭**

### 스키마 (schema)

- 데이터베이스에 **저장되는 데이터의 논리적 구조와 제약조건을 정의한 것**

### 인스턴스 (instance)

- 정의된 스키마에 따라 **데이터베이스에 실제로 저장된 값**

<br />

## **3단계 데이터베이스 구조 (3 level database architecture) 💭**

> 미국의 기관인 ANSI/SPARC에서 데이터베이스의 내부 구조를 감추고 일반 사용자가 데이터베이스를 쉽게 이용하고 사용할 수 있게 하는 구조 제안

<br />

### Physical level - Internal Schema (내부 스키마)

- **실제 데이터가 데이터베이스에 어떻게 저장되는지 기술**
- **파일에 저장되는 레코드의 구조(사이즈), 압축방법, 암호화 방법 등**

<br />

### Conceptual level - Conceptual Schema (개념 스키마)

- **일반적인 스키마**
- **데이터베이스를 개념적으로 표현 그리고 데이터 테이블 간의 관계를 기술**
- 물리적 데이터 독립성

<br />

### External level - External Schema (외부 스키마)

- **사용자가 보는 view level**
- 사용자에게 view의 형태로 필요한 정보만 보여주는 단계
- 각 사용자들이 개별 요구 사항에 따라 다른 view를 정의해서 데이터를 볼 수 있다
- 데이터베이스 하나에 여러 개의 외부 스키마 가능
- 개념 스키마와 논리적 데이터 독립성

<br />

---

# 데이터베이스 시스템 언어 📝

<br />

## **데이터베이스 사용자 💭**

### 1. 데이터베이스 관리자 (DMA)

- **데이터베이스 시스템을 운영하고 관리**
- **데이터베이스를 설계 및 구축, 제어**
- DBMS 자체는 물론 데이터베이스 구축, 관리에 해박한 지식과 많은 경험이 요구됨

### 2. 응용 프로그래머

- **데이터베이스 언어를 이용하여 응용프로그램을 작성**

### 3. 최종 사용자 (End user)

- **데이터베이스에 접근하여 데이터를 조작**
- Casual end user : 데이터베이스 언어를 이용해 데이터베이스 접근 및 조작
- Native end user : 데이터베이스 언어를 쓰지 않고 응용프로그램을 통해 데이터베이스 접근

<br />

## **데이터 언어 💭**

> 사용자가 데이터베이스를 구축하고 이에 접근하기 위해 데이터베이스 관리 시스템과 통신하는 수단

### 데이터 언어 종류

- `데이터 정의어 (DDL)`
  - **스키마 구조와 제약조건 등을 정의, 삭제, 수정**
- `데이터 조작어 (DML)`
  - **데이터의 삽입, 삭제, 수정, 검색**
- `데이터 제어어 (DCL)`
  - **내부적으로 필요한 규칙 (보안, 무결성 체크) 등을 정의하는 데이터 언어**
  - 데이터베이스 백업하거나 백업이미지로 회복(recover)하는 명령어

<br />

## **질의 처리기 💭**

### 1. DDL Interpreter

- DDL로 작성된 스키마의 정의를 해석, 데이터 딕셔너리(Catalog)에 저장

### 2. DML Compiler

- DML로 작성된 데이터 처리 요구를 processing engine이 이해할 수 있는 코드로 해석하여 plan을 작성

### 3. DML (Query) Processing Engine

- 컴파일된 plan을 데이터베이스에 실제로 실행
